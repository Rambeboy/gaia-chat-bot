const _0x3baa01=_0x359b;(function(_0x200fff,_0x3a85f1){const _0x5b41e6=_0x359b,_0xa23900=_0x200fff();while(!![]){try{const _0x15a17d=-parseInt(_0x5b41e6(0x145))/0x1*(parseInt(_0x5b41e6(0x113))/0x2)+-parseInt(_0x5b41e6(0x108))/0x3+-parseInt(_0x5b41e6(0x143))/0x4+-parseInt(_0x5b41e6(0x10f))/0x5*(-parseInt(_0x5b41e6(0x13d))/0x6)+-parseInt(_0x5b41e6(0x10a))/0x7+parseInt(_0x5b41e6(0x135))/0x8*(-parseInt(_0x5b41e6(0x12c))/0x9)+parseInt(_0x5b41e6(0x147))/0xa;if(_0x15a17d===_0x3a85f1)break;else _0xa23900['push'](_0xa23900['shift']());}catch(_0x3d8beb){_0xa23900['push'](_0xa23900['shift']());}}}(_0x1f74,0x299ac));function _0x359b(_0x2947ef,_0x3f667b){const _0x1f74e9=_0x1f74();return _0x359b=function(_0x359b96,_0x36e368){_0x359b96=_0x359b96-0x103;let _0x811afb=_0x1f74e9[_0x359b96];return _0x811afb;},_0x359b(_0x2947ef,_0x3f667b);}import{API}from'./api/api.js';import _0x33c386 from'../utils/logger.js';import{Config}from'../../../config/config.js';import{ethers}from'ethers';import{questionList}from'./question_list.js';import{Helper}from'../utils/helper.js';function _0x1f74(){const _0x4d33c2=['currentChat','throughputs','Bearer\x20','https://api.gaianet.ai/api/v1/users/connect-wallet/','api_key','/v1/chat/completions','provider','access_token','PRIVATEKEY','connectGaia','map','2824245RDiUIF','\x0a\x20\x20Status\x20:\x20','subdomain','-\x20Node\x20URL\x20:\x20','Wallet','objects','https://','content','random','8DDDMsv','https://base.llamarpc.com','apiKey','Wallet\x20connected\x20','token','Sending\x20Chat\x20to\x20','choices','system','2274PULHbt','\x0a\x20\x20ThroughPut\x20:\x20','Invalid\x20Private\x20Key,\x20Check\x20your\x20config.js,\x20make\x20sure\x20you\x20use\x20EVM\x20Private\x20Key','User\x20Nodes\x20List\x20:','\x20to\x20response','nodes','748116owJGSv','message','18552oAFrqh','Response\x20from\x20','12631330LGYNvx','Waiting\x20for\x20','continueSession','getNodes','fetch','startSession','parse','Connected\x20to\x20Gaia\x20Net\x0a\x20-\x20User\x20ID\x20:\x20','JsonRpcProvider','732963zkHNpb','Connecting\x20to\x20Gaia\x20Net','1384768PkdYps','wallet','messages','https://api.gaianet.ai/api/v1/users/nodes/','length','2430MELkgV','You\x20are\x20a\x20tour\x20guide\x20in\x20Paris,\x20France.\x20Please\x20answer\x20the\x20question\x20from\x20a\x20Paris\x20visitor\x20accurately.','\x20:\x20','POST','36rWquhs','userId','Getting\x20Node\x20List\x20Of\x20Current\x20Account','Message\x20:\x20','GET','0x1f0Ea6e0B3590e1Ab6C12EA0A24d3D0D9bf7707D','now','Starting\x20New\x20Chat\x20Session\x20for\x20Node\x20','stringify','Connecting\x20to\x20wallet\x20address\x20using\x20provided\x20Private\x20Key','push','assistant','info','data'];_0x1f74=function(){return _0x4d33c2;};return _0x1f74();}export default class Core extends API{constructor(){const _0x40bd72=_0x359b;super(),this[_0x40bd72(0x127)]=new ethers[(_0x40bd72(0x107))](_0x40bd72(0x136),0x2105);}async['connectWallet'](){const _0xd437ec=_0x359b;try{_0x33c386['info'](_0xd437ec(0x11c)),this['wallet']=new ethers[(_0xd437ec(0x130))](Config[_0xd437ec(0x129)]['trim'](),this['provider']);if(!this['wallet'])throw Error(_0xd437ec(0x13f));this['address']=this[_0xd437ec(0x10b)]['address'],_0x33c386[_0xd437ec(0x11f)](_0xd437ec(0x138)+JSON[_0xd437ec(0x11b)](this['address'])+'\x0a');}catch(_0x205b9d){throw _0x205b9d;}}async[_0x3baa01(0x12a)](){const _0x3171d5=_0x3baa01;try{_0x33c386['info'](_0x3171d5(0x109));const _0x186ec8=JSON[_0x3171d5(0x11b)]({'wallet_address':_0x3171d5(0x118),'timestamp':Date[_0x3171d5(0x119)]()}),_0xa98189=await this[_0x3171d5(0x10b)]['signMessage'](_0x186ec8),_0x1ed55b=await this[_0x3171d5(0x103)](_0x3171d5(0x124),_0x3171d5(0x112),undefined,{'signature':_0xa98189,'message':JSON[_0x3171d5(0x105)](_0x186ec8)});this['userId']=_0x1ed55b[_0x3171d5(0x120)]['user_id'],this[_0x3171d5(0x139)]=_0x1ed55b[_0x3171d5(0x120)][_0x3171d5(0x128)],this['apiKey']=_0x1ed55b[_0x3171d5(0x120)][_0x3171d5(0x125)],_0x33c386[_0x3171d5(0x11f)](_0x3171d5(0x106)+this[_0x3171d5(0x114)]+'\x0a\x20-\x20API\x20KEY\x20:\x20'+this[_0x3171d5(0x137)]+'\x0a\x20');}catch(_0x16adaa){throw _0x16adaa;}}async[_0x3baa01(0x14a)](){const _0x1c89bd=_0x3baa01;try{_0x33c386[_0x1c89bd(0x11f)](_0x1c89bd(0x115));const _0x1a2af3=await this['fetch'](_0x1c89bd(0x10d),_0x1c89bd(0x117),this[_0x1c89bd(0x139)]);this[_0x1c89bd(0x142)]=_0x1a2af3[_0x1c89bd(0x120)][_0x1c89bd(0x131)],_0x33c386[_0x1c89bd(0x11f)](_0x1c89bd(0x140)),this[_0x1c89bd(0x142)][_0x1c89bd(0x12b)](_0x4b5574=>{const _0x68f7b4=_0x1c89bd;return _0x33c386[_0x68f7b4(0x11f)](_0x68f7b4(0x12f)+_0x4b5574[_0x68f7b4(0x12e)]+_0x68f7b4(0x12d)+_0x4b5574['status']+_0x68f7b4(0x13e)+_0x4b5574[_0x68f7b4(0x122)]+'\x0a');});}catch(_0x415f4e){throw _0x415f4e;}}async[_0x3baa01(0x104)](_0x2a69e5){const _0x1884da=_0x3baa01;try{_0x33c386[_0x1884da(0x11f)](_0x1884da(0x11a)+_0x2a69e5[_0x1884da(0x12e)]+'\x0a');const _0x57928f=questionList[Helper[_0x1884da(0x134)](0x0,questionList[_0x1884da(0x10e)])];this['currentChat']={'model':'Llama-3.2-3B-Instruct','messages':[{'role':_0x1884da(0x13c),'content':_0x1884da(0x110)},{'role':'user','content':_0x57928f}],'stream':![],'user':this[_0x1884da(0x114)]},_0x33c386[_0x1884da(0x11f)](_0x1884da(0x13a)+_0x2a69e5[_0x1884da(0x12e)]),_0x33c386[_0x1884da(0x11f)](_0x1884da(0x116)+_0x57928f),_0x33c386['info'](_0x1884da(0x148)+_0x2a69e5[_0x1884da(0x12e)]+_0x1884da(0x141));const _0x4e7d92=await this[_0x1884da(0x103)]('https://'+_0x2a69e5[_0x1884da(0x12e)]+_0x1884da(0x126),_0x1884da(0x112),_0x1884da(0x123)+this['apiKey'],this[_0x1884da(0x121)]);_0x33c386['info'](_0x1884da(0x146)+_0x2a69e5[_0x1884da(0x12e)]+'\x20:\x20'+_0x4e7d92[_0x1884da(0x13b)][0x0][_0x1884da(0x144)]['content']+'\x0a'),this[_0x1884da(0x121)][_0x1884da(0x10c)][_0x1884da(0x11d)]({'content':_0x4e7d92[_0x1884da(0x13b)][0x0]['message'][_0x1884da(0x133)],'role':_0x1884da(0x11e)});}catch(_0x41d472){throw _0x41d472;}}async[_0x3baa01(0x149)](_0x3ec041,_0x306d5){const _0x3d845c=_0x3baa01;try{_0x33c386[_0x3d845c(0x11f)]('Sending\x20Chat\x20to\x20'+_0x3ec041[_0x3d845c(0x12e)]),_0x33c386[_0x3d845c(0x11f)]('Message\x20:\x20'+_0x306d5),this['currentChat'][_0x3d845c(0x10c)][_0x3d845c(0x11d)]({'content':_0x306d5,'role':'user'}),_0x33c386['info']('Waiting\x20for\x20'+_0x3ec041['subdomain']+'\x20to\x20response');const _0x35f1d1=await this[_0x3d845c(0x103)](_0x3d845c(0x132)+_0x3ec041[_0x3d845c(0x12e)]+'/v1/chat/completions',_0x3d845c(0x112),_0x3d845c(0x123)+this['apiKey'],this['currentChat']);_0x33c386[_0x3d845c(0x11f)]('Response\x20from\x20'+_0x3ec041[_0x3d845c(0x12e)]+_0x3d845c(0x111)+_0x35f1d1[_0x3d845c(0x13b)][0x0][_0x3d845c(0x144)]['content']),this['currentChat'][_0x3d845c(0x10c)][_0x3d845c(0x11d)]({'content':_0x35f1d1[_0x3d845c(0x13b)][0x0]['message'][_0x3d845c(0x133)],'role':_0x3d845c(0x11e)});}catch(_0x2cfaa6){throw _0x2cfaa6;}}}